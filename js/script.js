/**
 * If you're making your own political quiz, you don't need to modify anything in this file.
 * https://politicalvalues.github.io/
 */

var button_array=[];for(var key in buttons){var order,val=buttons[key],empty_button='<button class="button" onclick="submitAnswer(%INDEX%, %MODIFIER%)" style="background-color: %BACKGROUND%">%TEXT%</button>';for(var sub_key in val){var sub_val=val[sub_key];switch(sub_key){case"modifier":empty_button=empty_button.replace("%MODIFIER%",sub_val);break;case"color":empty_button=empty_button.replace("%BACKGROUND%",sub_val);break;case"text":empty_button=empty_button.replace("%TEXT%",sub_val);break;case"order":order=sub_val;break;case"function":empty_button=empty_button.replace("onclick","usmfak").replace(')"',')" onclick="arrayPop()"')}}button_array[order]=empty_button}questions.forEach(function(s,e){var t="question_"+e;_("@").append('<div class="q_hidden" sv="'+t+'"></div>'),_("$"+t).append('<p class="question">'+s.question+"</p>"),_("$"+t).append('<p class="description">'+s.description+"</p>"),_("$"+t).append('<div sv="buttons_'+t+'" class="buttoncontainer"></div>'),button_array.forEach(function(s){s=s.replace("%INDEX%",e),_("$buttons_"+t).append(s)})});var pointer=1,scoresplus={},scoresminus={};function submitAnswer(s,e){for(var t in questions[s].effect){var n=questions[s].effect[t];n*e>0?scoresplus[t]+=Math.abs(n*e):scoresminus[t]+=Math.abs(n*e)}_("$question_"+s).setClass("q q_hiding"),setTimeout(function(){_("$question_"+s).setClass("q q_hidden"),s+1==questions.length?finish():_("$question_"+parseInt(s+1)).setClass("q q_shown")},400),pointer++,_("$qn").html(pointer),arrayPush(questions[s].effect,e)}main_axes.forEach(function(s){scoresplus[s]=0,scoresminus[s]=0});var previousAnswers=[];function arrayPush(s,e){s.mod=e,previousAnswers.push(s)}function arrayPop(){if(1!=pointer){var s=previousAnswers[previousAnswers.length-1];for(var e in previousAnswers.pop(),s){var t=s[e];t*s.mod>0?scoresplus[e]-=Math.abs(t*s.mod):scoresminus[e]-=Math.abs(t*s.mod)}_("$question_"+parseInt(pointer-1)).setClass("q q_hiding"),setTimeout(function(){_("$question_"+parseInt(pointer)).setClass("q q_hidden"),_("$question_"+parseInt(pointer-1)).setClass("q q_shown")},400),pointer--}}function finish(){Cookies.set("scoresplus",JSON.stringify(scoresplus)),Cookies.set("scoresminus",JSON.stringify(scoresminus)),window.location.href="results.html"}_("$question_0").setClass("q q_shown"),setTimeout(function(){_("$qt").html(questions.length)},100);