/**
 * If you're making your own political quiz, you don't need to modify anything in this file.
 * https://politicalvalues.github.io/
 */

var button_array=[];for(var key in buttons){var order,val=buttons[key],empty_button='<button class="button" onclick="submitAnswer(%INDEX%, %MODIFIER%)" style="background-color: %BACKGROUND%">%TEXT%</button>';for(var sub_key in val){var sub_val=val[sub_key];switch(sub_key){case"modifier":empty_button=empty_button.replace("%MODIFIER%",sub_val);break;case"color":empty_button=empty_button.replace("%BACKGROUND%",sub_val);break;case"text":empty_button=empty_button.replace("%TEXT%",sub_val);break;case"order":order=sub_val;break;case"function":empty_button=empty_button.replace("onclick","usmfak").replace(')"',')" onclick="arrayPop()"')}}button_array[order]=empty_button}questions.forEach(function(s,t){var e="question_"+t;_("@").append('<div class="q_hidden" sv="'+e+'"></div>'),_("$"+e).append('<p class="question">'+s.question+"</p>"),_("$"+e).append('<p class="description">'+s.description+"</p>"),_("$"+e).append('<div sv="buttons_'+e+'" class="buttoncontainer"></div>'),button_array.forEach(function(s){s=s.replace("%INDEX%",t),_("$buttons_"+e).append(s)})});var pointer=1,scoresplus={},scoresminus={};function submitAnswer(s,t){for(var e in questions[s].effect){var n=questions[s].effect[e];0<n*t?Math.floor(scoresplus[e]+=Math.abs(n*t)):scoresminus[e]+=Math.floor(Math.abs(n*t))}_("$question_"+s).setClass("q q_hiding"),setTimeout(function(){_("$question_"+s).setClass("q q_hidden"),s+1==questions.length?finish():_("$question_"+parseInt(s+1)).setClass("q q_shown")},400),pointer++,_("$qn").html(pointer),arrayPush(questions[s].effect,t)}axes.forEach(function(s){scoresplus[s.key]=0,scoresminus[s.key]=0});var previousAnswers=[];function arrayPush(s,t){s.mod=t,previousAnswers.push(s)}function arrayPop(){if(1!=pointer){var s=previousAnswers[previousAnswers.length-1];for(var t in previousAnswers.pop(),s){var e=s[t];0<e*s.mod?scoresplus[t]-=Math.abs(e*s.mod):scoresminus[t]-=Math.abs(e*s.mod)}_("$question_"+parseInt(pointer-1)).setClass("q q_hiding"),setTimeout(function(){_("$question_"+parseInt(pointer)).setClass("q q_hidden"),_("$question_"+parseInt(pointer-1)).setClass("q q_shown")},400),pointer--}}function finish(){window.location.href="results.html?p="+JSON.stringify(scoresplus)+"&n="+JSON.stringify(scoresminus)}_("$question_0").setClass("q q_shown"),setTimeout(function(){_("$qt").html(questions.length)},100);